

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>Escenas: menú y controles &mdash; Tutorial Pong-C&amp;A 0.1 documentation</title>
<!-- RTD <head> -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/doctools.js"></script>

  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>

<script type="text/javascript">
  // This is included here for Javascript that doesn't have access to the templates.
  var doc_version = "latest";
  var doc_slug = "pong-ca";
</script>

<script type="text/javascript" src="http://media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="top" title="Tutorial Pong-C&amp;A 0.1 documentation" href="../index.html" />
    <link rel="next" title="Escena juego" href="EscenaJuego.html" />
    <link rel="prev" title="Menú de opciones" href="MenuOpciones.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="EscenaJuego.html" title="Escena juego"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="MenuOpciones.html" title="Menú de opciones"
             accesskey="P">anterior</a> |</li>
        <li><a href="../index.html">Tutorial Pong-C&amp;A 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="escenas-menu-y-controles">
<h1>Escenas: menú y controles<a class="headerlink" href="#escenas-menu-y-controles" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="salir">
<h2>&#8220;Salir&#8221;<a class="headerlink" href="#salir" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Ahora que ya tenemos un menú bien hecho podemos seguir con las funciones que implica. Empecemos con la más fácil, &#8220;Salir&#8221;:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">selecciona_salir</span><span class="p">():</span>
    <span class="n">pilas</span><span class="o">.</span><span class="n">terminar</span><span class="p">()</span>       <span class="c"># utilizamos esta funcion de pilas para cerrar nuestra ventana</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="escenas">
<h2>Escenas<a class="headerlink" href="#escenas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La siguiente función va a estar destinada a los controles. Para poder hacerla hay que empezar a trabajar con escenas.</p>
<div class="topic">
<p class="topic-title first">Escena:</p>
<p><strong>Las escenas</strong> en pilas <strong>son las partes de un juego</strong>, cuando termina una escena se borran todos sus actores y comienza una nueva con actores nuevos.</p>
</div>
<p>Cuando ponemos pilas.iniciar() se genera una escena llamada Normal, esta escena no tiene un comportamiento muy elaborado, simplemente imprime toda la pantalla de gris para que podamos colocar actores sobre ella y veamos una escena limpia.</p>
<p>Para generar una escena simplemente hay que meter todos sus actores y fondos en una clase, al ejecutar cada una de ellas automáticamente se borrarán los actores y fondos de escenas anteriores.</p>
<p>Veamos un ejemplo:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PantallaBienvenida</span><span class="p">(</span><span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="p">):</span>      <span class="c"># definimos una clase para la escena</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">fondo</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">fondos</span><span class="o">.</span><span class="n">Pasto</span><span class="p">()</span>      <span class="c"># generamos un fondo</span>
        <span class="n">texto</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">actores</span><span class="o">.</span><span class="n">Texto</span><span class="p">(</span><span class="s">&#39;Bienvenido a pilas!!!&#39;</span><span class="p">)</span>      <span class="c"># generamos un actor texto</span>

<span class="n">PantallaBienvenida</span><span class="p">()</span>      <span class="c"># ejecutamos la clase (escena)</span>
</pre></div>
</td></tr></table></div>
<p>Se nos va a crear algo como esto:</p>
<img alt="../_images/pilas-ejemplo-escena.png" class="align-center" src="../_images/pilas-ejemplo-escena.png" />
<p>Pero si generamos otra clase, se va a reiniciar la escena:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PantallaBienvenida2</span><span class="p">(</span><span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="p">):</span>      <span class="c"># definimos una clase para la escena</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">fondo</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">fondos</span><span class="o">.</span><span class="n">Tarde</span><span class="p">()</span>      <span class="c"># generamos un fondo</span>
        <span class="n">texto</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">actores</span><span class="o">.</span><span class="n">Texto</span><span class="p">(</span><span class="s">&#39;Entraste a pilas!!!&#39;</span><span class="p">)</span>      <span class="c"># generamos un actor texto</span>

<span class="n">PantallaBienvenida2</span><span class="p">()</span>      <span class="c"># ejecutamos la clase (escena)</span>
</pre></div>
</td></tr></table></div>
<p>Y va a pasar algo como esto:</p>
<img alt="../_images/pilas-ejemplo-escena.gif" class="align-center" src="../_images/pilas-ejemplo-escena.gif" />
<p>Así como cada actor tiene su lugar en &#8220;pilas.actores.*&#8221; , para definir una escena hace falta pasarle de parámetro a la clase, &#8220;<tt class="docutils literal"><span class="pre">pilas.escenas.Escena</span></tt>&#8221;, eso hará que la clase sea una escena y no un actor. Más adelante veremos como hacer clases para cada actor.</p>
</div>
<div class="section" id="escena-controles">
<h2>Escena controles<a class="headerlink" href="#escena-controles" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para continuar con la escena controles, yo usé de fondo la siguiente imagen:</p>
<img alt="../_images/pilas-fondo-ayuda.png" class="align-center" src="../_images/pilas-fondo-ayuda.png" />
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Acuérdense que pueden cambiar las imágenes usadas, como también algunos detalles, para hacer su propia versión.</p>
</div>
<p>Siguiendo con el código de nuestro programa, habrá que implementar una escena nueva, por lo tanto habrá que crear una clase:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Escena_controles</span><span class="p">(</span><span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="p">):</span>      <span class="c"># definimos la clase Escena_controles (Escena)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pilas</span><span class="o">.</span><span class="n">escenas</span><span class="o">.</span><span class="n">Escena</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">fondo</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">fondos</span><span class="o">.</span><span class="n">Fondo</span><span class="p">(</span><span class="s">&#39;data/fondo_ayuda.png&#39;</span><span class="p">)</span>      <span class="c"># le damos un fondo</span>
        <span class="n">titulo</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">actores</span><span class="o">.</span><span class="n">Texto</span><span class="p">(</span><span class="s">&#39;Controles&#39;</span><span class="p">,</span> <span class="n">magnitud</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>      <span class="c"># colocamos el titulo</span>
        <span class="n">titulo</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">colores</span><span class="o">.</span><span class="n">rojo</span>      <span class="c"># le damos un color</span>
        <span class="n">texto1</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">actores</span><span class="o">.</span><span class="n">Texto</span><span class="p">(</span><span class="s">&#39;Jugador 1 (rojo)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">120</span><span class="p">)</span>     <span class="c"># colocamos subtitulo</span>
        <span class="n">texto2</span> <span class="o">=</span> <span class="n">pilas</span><span class="o">.</span><span class="n">actores</span><span class="o">.</span><span class="n">Texto</span><span class="p">(</span><span class="s">&#39;Jugador 1 (rojo)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>     <span class="c"># colocamos subtitulo</span>
        <span class="n">pilas</span><span class="o">.</span><span class="n">avisar</span><span class="p">(</span><span class="s">&#39;Pulsa ESC para regresar al menu&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Lo que hicimos fue simplemente declarar una clase para crear una escena nueva, le dimos un fondo y dos títulos simbolizando a cada jugador.</p>
<p>Si todo salió bien, debería quedar así:</p>
<img alt="../_images/pilas-escena-ayuda.png" class="align-center" src="../_images/pilas-escena-ayuda.png" />
<p>Bueno, habiendo terminado estas dos funciones, solo nos queda ver la que está vinculada a la escena del juego.</p>
<p>Para continuar, debemos tener en cuenta que esta escena es la mas extensa y complicada, ya que es donde interactúan todos los actores del juego.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">



    <h3>Project Versions</h3>
    <ul id="sidebar_versions">

  <li><a href="//readthedocs.orghttp://pong-ca.readthedocs.org/en/latest/">latest</a></li>

    </ul>

<div id="searchbox" style="">
  <h3>RTD Search</h3>
    <form class="search" action="//readthedocs.org/search/project/" method="get">
      <input type="text" name="q" size="18">
      <input type="submit" value="Go">
      <input type="hidden" name="selected_facets" value="project_exact:Pong-C&amp;A">
    </form>
    <p class="searchtip" style="font-size: 90%">
        Full-text doc search.
    </p>
</div>


  <h3><a href="../index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">Escenas: menú y controles</a><ul>
<li><a class="reference internal" href="#salir">&#8220;Salir&#8221;</a></li>
<li><a class="reference internal" href="#escenas">Escenas</a></li>
<li><a class="reference internal" href="#escena-controles">Escena controles</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="MenuOpciones.html"
                        title="Capítulo anterior">Menú de opciones</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="EscenaJuego.html"
                        title="Próximo capítulo">Escena juego</a></p>
  <h3>Esta página</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/data/EscenasMenuControles.txt"
           rel="nofollow">Enseñar el código</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="EscenaJuego.html" title="Escena juego"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="MenuOpciones.html" title="Menú de opciones"
             >anterior</a> |</li>
        <li><a href="../index.html">Tutorial Pong-C&amp;A 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Luciano Castillo.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
 <!-- End original user content -->



<style type="text/css">
  .rtd-badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    display: none;
    bottom: 11px;
    right: 166px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    display: block;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(../images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .rtd-badge.rtd {
    background: #3b4449 url(//media.readthedocs.org/images/badge-rtd.png) scroll 0px -46px no-repeat;
    border: 1px solid #282E32;
    width: 41px;
    right: 5px;
  }
  .footer_popout:hover .rtd-badge.rtd {
    background-position: top left;
    width: 160px;
  }
  .rtd-badge.revsys { background: #465158 url(//media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org/images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

.rtd_doc_footer { background-color: #465158;}

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="//readthedocs.org/projects/pong-ca/?fromdocs=pong-ca" class="rtd-badge rtd"> TEST Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="//readthedocs.orghttp://pong-ca.readthedocs.org/en/latest/">latest</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  </body>
</html>